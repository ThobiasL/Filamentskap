<!-- templates/index.html -->
<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8">
  <title>Hex Dashboard</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="hex-grid">
    <div class="hex"><div class="hex-in"><div class="hex-content">
      <div class="value" id="temp1">– °C</div>
      <div class="label">Temp 1</div>
    </div></div></div>

    <div class="hex"><div class="hex-in"><div class="hex-content">
      <div class="value" id="temp2">– °C</div>
      <div class="label">Temp 2</div>
    </div></div></div>

    <div class="hex"><div class="hex-in"><div class="hex-content">
      <div class="value" id="average_temp">– °C</div>
      <div class="label">Gj.snitt Temp</div>
    </div></div></div>

    <div class="hex"><div class="hex-in"><div class="hex-content">
      <div class="value" id="humid1">– %</div>
      <div class="label">Fukt 1</div>
    </div></div></div>

    <div class="hex"><div class="hex-in"><div class="hex-content">
      <div class="value" id="humid2">– %</div>
      <div class="label">Fukt 2</div>
    </div></div></div>

    <div class="hex"><div class="hex-in"><div class="hex-content">
      <div class="value" id="average_humid">– %</div>
      <div class="label">Gj.snitt Fukt</div>
    </div></div></div>
  </div>

  <script>
    async function hentData() {
      try {
        const res  = await fetch('/data');
        const json = await res.json();
        document.getElementById('temp1').textContent         = json.temp1          + ' °C';
        document.getElementById('temp2').textContent         = json.temp2          + ' °C';
        document.getElementById('average_temp').textContent  = json.average_temp   + ' °C';
        document.getElementById('humid1').textContent        = json.humid1         + ' %';
        document.getElementById('humid2').textContent        = json.humid2         + ' %';
        document.getElementById('average_humid').textContent = json.average_humid  + ' %';
      } catch (e) {
        console.error('Feil ved henting:', e);
      }
    }

    hentData();
    setInterval(hentData, 2000);
  </script>
</body>
</html>
